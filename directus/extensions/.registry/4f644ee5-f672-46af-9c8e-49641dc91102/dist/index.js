import{ref as e,onMounted as t,onUnmounted as a,resolveComponent as n,openBlock as o,createElementBlock as l,withModifiers as s,createVNode as c,normalizeClass as i,withCtx as r,createBlock as d,createCommentVNode as u,toDisplayString as b}from"vue";const y={key:1};var p={id:"quickifyai-save-and-stay-button",name:"Save and Stay Button",icon:"save",description:"Save and Stay button",component:((e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a})({__name:"interface",props:["label","icon","classType"],setup(p){const v=p,m=e(!1),f=e(!1),h=new MutationObserver((e=>{e.forEach((e=>{null!==e.target.querySelector('[data-icon="check"]')&&(f.value=!e.target.hasAttribute("disabled"),f.value||(m.value=!1))}))}));async function g(){m.value=!0,document.body.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,key:"Control",code:"ControlLeft"})),document.body.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,key:"s",code:"KeyS",ctrlKey:!0})),document.body.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,key:"Control",code:"ControlLeft"})),document.body.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,key:"s",code:"KeyS"}))}return t((()=>{h.observe(document.querySelector("header .actions .action-buttons"),{subtree:!0,attributeFilter:["disabled"]});const e=document.querySelector('.header-bar button:has([data-icon="check"])');e&&(f.value=!e.hasAttribute("disabled"))})),a((()=>{h.disconnect()})),(e,t)=>{const a=n("v-icon"),p=n("v-button");return o(),l("form",{onSubmit:s(g,["prevent"])},[c(p,{type:"submit",class:i(["action",[v.classType]]),loading:m.value,secondary:"primary"!==v.classType,icon:!v.label,disabled:!f.value},{default:r((()=>[v.icon?(o(),d(a,{key:0,left:"",name:v.icon},null,8,["name"])):u("v-if",!0),v.label?(o(),l("span",y,b(v.label),1)):u("v-if",!0)])),_:1},8,["class","loading","secondary","icon","disabled"])],32)}}},[["__file","interface.vue"]]),types:["alias"],localTypes:["presentation"],group:["presentation"],hideLabel:!0,hideLoader:!0,options:()=>[{field:"label",type:"string",name:"$t:label",meta:{width:"full",interface:"system-input-translated-string",options:{placeholder:"$t:label"}}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"classType",name:"$t:type",type:"string",meta:{width:"half",interface:"select-dropdown",default_value:"normal",options:{choices:[{text:"$t:primary",value:"primary"},{text:"$t:normal",value:"normal"},{text:"$t:info",value:"info"},{text:"$t:success",value:"success"},{text:"$t:warning",value:"warning"},{text:"$t:danger",value:"danger"}]}},schema:{default_value:"normal"}}]};export{p as default};
